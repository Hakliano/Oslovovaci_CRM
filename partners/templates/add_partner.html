{% extends "base.html" %}

{% block title %}Přidání partnera{% endblock %}

{% block content %}
<h1 class="mb-4">Přidání nového partnera</h1>
<form method="post" class="card card-body shadow-sm">
    {% csrf_token %}

    <!-- Jméno partnera -->
    <div class="mb-3">
        <label for="jmeno" class="form-label">Jméno partnera <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="jmeno" name="jmeno" placeholder="Zadejte jméno partnera" required>
    </div>

    <!-- Jednatel -->
    <div class="mb-3">
        <label for="jednatel" class="form-label">Jednatel <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="jednatel" name="jednatel" placeholder="Zadejte jméno jednatele" required>
    </div>

    <!-- Email -->
    <div class="mb-3">
        <label for="email" class="form-label">Email <span class="text-danger">*</span></label>
        <input type="email" class="form-control" id="email" name="email" placeholder="Zadejte emailovou adresu" required>
    </div>

    <!-- Telefon -->
    <div class="mb-3">
        <label for="telefon" class="form-label">Telefon <span class="text-danger">*</span></label>
        <input type="tel" class="form-control" id="telefon" name="telefon" placeholder="Zadejte telefonní číslo" required>
    </div>

    <!-- Adresa -->
    <div class="mb-3">
        <label for="adresa" class="form-label">Adresa <span class="text-danger">*</span></label>
        <input type="text" class="form-control" id="adresa" name="adresa" placeholder="Zadejte adresu" required>
    </div>

    <!-- Instagram -->
    <div class="mb-3">
        <label for="instagram" class="form-label">Instagram</label>
        <input type="url" class="form-control" id="instagram" name="instagram" placeholder="https://www.instagram.com/profil">
    </div>

    <!-- Facebook -->
    <div class="mb-3">
        <label for="facebook" class="form-label">Facebook</label>
        <input type="url" class="form-control" id="facebook" name="facebook" placeholder="https://www.facebook.com/profil">
    </div>

    <!-- Uložit -->
    <button type="submit" class="btn btn-primary">Uložit</button>
    <div id="save-notification" style="display: none; position: fixed; top: 20px; right: 20px; background: #28a745; color: white; padding: 10px; border-radius: 5px; box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);">
        Uloženo!
    </div>

   
</form>




<div id="save-modal" style="display: none; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); background: white; padding: 20px; border-radius: 10px; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); z-index: 1000;">
    <p id="modal-text" style="margin-bottom: 20px;">Partner uložen!</p>
    <button id="modal-ok" style="padding: 10px 20px; background: #28a745; color: white; border: none; border-radius: 5px; cursor: pointer;">OK</button>
</div>
<div id="modal-overlay" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0, 0, 0, 0.5); z-index: 999;"></div>

<!-- JavaScript -->
<script>
    document.addEventListener('DOMContentLoaded', function () {
        const form = document.querySelector('form');
        const modal = document.getElementById('save-modal');
        const modalOverlay = document.getElementById('modal-overlay');
        const modalText = document.getElementById('modal-text');
        const modalOk = document.getElementById('modal-ok');

        form.addEventListener('submit', function (e) {
            e.preventDefault(); // Zabraň okamžitému odeslání formuláře

            

            // Zobraz modální okno
            modal.style.display = 'block';
            modalOverlay.style.display = 'block';

            // Po kliknutí na tlačítko OK skryj modální okno a odešli formulář
            modalOk.addEventListener('click', function () {
                modal.style.display = 'none';
                modalOverlay.style.display = 'none';
                form.submit(); // Odeslání formuláře
            }, { once: true }); // Zajistí, že se událost spustí jen jednou
        });
    });

</script>

{% endblock %}
